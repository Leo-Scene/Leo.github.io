
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.7">
    
    
      
        <title>大模型自动评估理论和实战--LLM Automatic Evaluation - Leo叔叔的杂货铺</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="light-blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#-llm-automatic-evaluation" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="Leo叔叔的杂货铺" class="md-header__button md-logo" aria-label="Leo叔叔的杂货铺" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 9h5.5L13 3.5zM6 2h8l6 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2m9 16v-2H6v2zm3-4v-2H6v2z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Leo叔叔的杂货铺
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              大模型自动评估理论和实战--LLM Automatic Evaluation
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="light-blue" data-md-color-accent="indigo"  aria-label="dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="indigo"  aria-label="light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  首页

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../A.%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8%E4%BB%8B%E7%BB%8D/" class="md-tabs__link">
        
  
    
  
  工具

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../D.Transformer%E7%BB%93%E6%9E%84/" class="md-tabs__link">
        
  
    
  
  Ai

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../01%E9%A1%B9%E7%9B%AE%E6%95%B4%E5%90%88%E7%AE%A1%E7%90%86/" class="md-tabs__link">
          
  
  软考

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Leo叔叔的杂货铺" class="md-nav__button md-logo" aria-label="Leo叔叔的杂货铺" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 9h5.5L13 3.5zM6 2h8l6 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2m9 16v-2H6v2zm3-4v-2H6v2z"/></svg>

    </a>
    Leo叔叔的杂货铺
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    首页
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../A.%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8%E4%BB%8B%E7%BB%8D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    工具
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../D.Transformer%E7%BB%93%E6%9E%84/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ai
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    软考
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            软考
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01%E9%A1%B9%E7%9B%AE%E6%95%B4%E5%90%88%E7%AE%A1%E7%90%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    项目的整合管理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%E9%A1%B9%E7%9B%AE%E8%8C%83%E5%9B%B4%E7%AE%A1%E7%90%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    项目的范围管理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03%E9%A1%B9%E7%9B%AE%E8%BF%9B%E5%BA%A6%E7%AE%A1%E7%90%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    项目的进度管理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04%E9%A1%B9%E7%9B%AE%E6%88%90%E6%9C%AC%E7%AE%A1%E7%90%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    项目的成本管理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05%E9%A1%B9%E7%9B%AE%E8%B4%A8%E9%87%8F%E7%AE%A1%E7%90%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    项目的质量管理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../06%E9%A1%B9%E7%9B%AE%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    项目的资源管理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../07%E9%A1%B9%E7%9B%AE%E6%B2%9F%E9%80%9A%E7%AE%A1%E7%90%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    项目的沟通管理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../08%E9%A1%B9%E7%9B%AE%E9%A3%8E%E9%99%A9%E7%AE%A1%E7%90%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    项目的风险管理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../09%E9%A1%B9%E7%9B%AE%E9%87%87%E8%B4%AD%E7%AE%A1%E7%90%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    项目的采购管理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../10%E9%A1%B9%E7%9B%AE%E5%B9%B2%E7%B3%BB%E4%BA%BA%E7%AE%A1%E7%90%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    项目的干系人管理
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      引言
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#llm" class="md-nav__link">
    <span class="md-ellipsis">
      LLM评估的方法论
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LLM评估的方法论">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 模型效果评估
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 模型性能评估
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 问题和挑战
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#llm_1" class="md-nav__link">
    <span class="md-ellipsis">
      LLM评估实战
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="-llm-automatic-evaluation">大模型自动评估理论和实战--LLM Automatic Evaluation</h1>
<h2 id="_1">引言</h2>
<p><strong>背景</strong></p>
<p>大语言模型（LLM）评测是LLM开发和应用中的关键环节，是评估LLM性能、鲁棒性、偏见、幻觉等方面的重要手段。LLM评测的目标是通过一系列的评测任务和指标，全面、客观地评估LLM的性能，为LLM的研发、应用和部署提供参考。
<a class="glightbox" href="../resources/llm_eval_importance_challenge.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="../resources/llm_eval_importance_challenge.png" /></a></p>
<p>目前评测方法可以分为人工评测和自动评测，其中，自动评测技术相比人工评测来讲，具有效率高、一致性好、可复现、鲁棒性好等特点，逐渐成为业界研究的重点。</p>
<p>模型的自动评测技术可以分为rule-based和model-based两大类：</p>
<ul>
<li>
<p>rule-based方法：</p>
<ul>
<li>
<p>benchmark以客观题为主，例如多选题，被测的LLM通过理解context/question，来指定最佳答案</p>
</li>
<li>
<p>解析LLM的response，与标准答案做对比</p>
</li>
<li>
<p>计算metric（accuracy、rouge、bleu等）</p>
</li>
</ul>
</li>
<li>
<p>model-based方法：</p>
<ul>
<li>
<p>裁判员模型（e.g. GPT-4、Claude、Expert Models/Reward models）</p>
</li>
<li>
<p>LLM Peer-examination</p>
</li>
</ul>
</li>
</ul>
<p><strong>内容提要</strong></p>
<ul>
<li>
<p><strong>LLM自动评估理论</strong></p>
</li>
<li>
<p>如何评估一个LLM</p>
</li>
<li>
<p>自动评估的方法</p>
</li>
<li>
<p>常用的benchmark</p>
</li>
<li>
<p>LLM评估面临的问题和挑战</p>
</li>
<li>
<p><strong>LLM自动评估实战</strong></p>
</li>
<li>
<p>LLMuses自动评测框架介绍</p>
</li>
<li>
<p>基于客观题benchmark自动评估</p>
</li>
<li>
<p>基于专家模型的自动评估</p>
</li>
<li>
<p>LLM推理性能评估</p>
</li>
</ul>
<h2 id="llm">LLM评估的方法论</h2>
<p><a class="glightbox" href="../resources/527230d4-206d-4c62-806d-e50ff7547e33.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="../resources/527230d4-206d-4c62-806d-e50ff7547e33.png" /></a></p>
<p><strong>如何评估一个LLM</strong></p>
<ul>
<li>
<p>哪些维度？</p>
<ul>
<li>
<p>语义理解（Understanding）</p>
</li>
<li>
<p>知识推理（Reasoning）</p>
</li>
<li>
<p>专业能力（e.g. coding、math）</p>
</li>
<li>
<p>应用能力（MedicalApps、AgentApps、AI-FOR-SCI ...）</p>
</li>
<li>
<p>指令跟随（Instruction Following）</p>
</li>
<li>
<p>鲁棒性（Robustness）</p>
</li>
<li>
<p>偏见（Bias）</p>
</li>
<li>
<p>幻觉（Hallucinations）</p>
</li>
<li>
<p>安全性（Safety）</p>
</li>
</ul>
</li>
</ul>
<p><a class="glightbox" href="../resources/996dfdf4-c222-4b9f-b9a0-a071ea49aef7.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="../resources/996dfdf4-c222-4b9f-b9a0-a071ea49aef7.png" /></a></p>
<blockquote>
<p><strong>例：GPT-4 vs LLaMA2-7B能力维度对比评测</strong></p>
</blockquote>
<p><strong>自动评估方法</strong></p>
<h4 id="21">2.1 模型效果评估</h4>
<ul>
<li><strong>基准和指标（Benchmarks &amp; Metrics）</strong></li>
</ul>
<table>
<thead>
<tr>
<th><strong>数据集</strong></th>
<th><strong>描述</strong></th>
<th><strong>评价指标</strong></th>
<th><strong>样例</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>MMLU</td>
<td>MassiveMultitaskLanguageUnderstanding 一个多任务数据集，由各种学科的多项选择题组成。涵盖STEM、人文、社科等领域。包括57个子任务，包括初等数学、美国历史、计算机科学、法律等等。</td>
<td>Accuracy</td>
<td>Question: In 2016, about how many people in the United States were homeless? A. 55,000 B. 550,000 C. 5,500,000 D. 55,000,000 Answer: B</td>
</tr>
<tr>
<td>TriviaQA</td>
<td>阅读理解数据集，包含超过65万个问题-答案-证据三元组。其包括95K个问答对，由冷知识爱好者提供 + 独立收集的事实性文档撰写</td>
<td>EM(ExactMatch) F1 (word-level)</td>
<td><a class="glightbox" href="../resources/3f700aa9-eadb-4921-93bf-a61d2361b53c.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="../resources/3f700aa9-eadb-4921-93bf-a61d2361b53c.png" /></a> （问题-答案-证据文档）</td>
</tr>
<tr>
<td>MATH</td>
<td> 12500道数学题，每道包含step-by-step solution</td>
<td>Accuracy</td>
<td><a class="glightbox" href="../resources/9e268ef4-3547-4311-9bee-b81e6347ad65.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="../resources/9e268ef4-3547-4311-9bee-b81e6347ad65.png" /></a></td>
</tr>
<tr>
<td>HumanEval</td>
<td>HumanEval (Hand-Written Evaluation Set) 一个手写的问题解决数据集，要求根据给定的问题和代码模板，生成正确的代码片段。包含164个高质量的问题，涵盖五种编程语言：Python, C++, Java, Go, 和 JavaScript。</td>
<td>pass@k</td>
<td>{     "task_id": "test/0",     "prompt": "def return1():\n",     "canonical_solution": "    return 1",     "test": "def check(candidate):\n    assert candidate() == 1",     "entry_point": "return1" }</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>Rule-based自动评测</strong></li>
</ul>
<blockquote>
<p><strong>基本流程</strong></p>
</blockquote>
<p><a class="glightbox" href="../resources/93ecb255d85f4fc1a8c16886a81694ed0521.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="../resources/93ecb255d85f4fc1a8c16886a81694ed0521.png" /></a></p>
<ul>
<li>根据数据集原始question来构建prompt</li>
</ul>
<blockquote>
<p><strong>示例(few-shot)</strong></p>
</blockquote>
<p><a class="glightbox" href="../resources/45fa0dbc-5f72-443c-919a-f0e7a1edb48b.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="../resources/45fa0dbc-5f72-443c-919a-f0e7a1edb48b.png" /></a></p>
<blockquote>
<p><strong>示例：few-shot with CoT</strong></p>
</blockquote>
<pre><code># Examples in BBH

Evaluate the result of a random Boolean expression.

Q: not ( ( not not True ) ) is
A: Let's think step by step.
Remember that (i) expressions inside brackets are always evaluated first and that (ii) the order of operations from highest priority to lowest priority is "not", "and", "or", respectively.
We first simplify this expression "Z" as follows: "Z = not ( ( not not True ) ) = not ( ( A ) )" where "A = not not True".
Let's evaluate A: A = not not True = not (not True) = not False = True.
Plugging in A, we get: Z = not ( ( A ) ) = not ( ( True ) ) = not True = False. So the answer is False.

Q: True and False and not True and True is
A: Let's think step by step.
Remember that (i) expressions inside brackets are always evaluated first and that (ii) the order of operations from highest priority to lowest priority is "not", "and", "or", respectively.
We first simplify this expression "Z" as follows: "Z = True and False and not True and True = A and B" where "A = True and False" and "B = not True and True".
Let's evaluate A: A = True and False = False.
Let's evaluate B: B = not True and True = not (True and True) = not (True) = False.
Plugging in A and B, we get: Z = A and B = False and False = False. So the answer is False.
</code></pre>
<ul>
<li>模型预测</li>
</ul>
<blockquote>
<p><strong>Generate</strong></p>
</blockquote>
<pre><code># Demo -- model_genereate 直接生成response

def model_generate(query: str, infer_cfg: dict) -&gt; str:

    inputs = tokenizer.encode(query)
    input_ids = inputs['input_ids']
    ...

    # Process infer cfg (do_sample, top_k, top_p, temperature, special_tokens ...)
    generation_config = process_cfg(args)
    ...

    # Run inference
    output_ids = model.generate(
        input_ids=input_ids,
        attention_mask=attention_mask,
        generation_config=generation_config,
    )

    response = tokenizer.decode(output_ids, **decode_kwargs)
    return response
</code></pre>
<blockquote>
<p><strong>Likelihood</strong></p>
</blockquote>
<pre><code># Demo -- model_call方式计算loglikelihood

# context + continuation 拼接，示例：
# Question： 法国的首都是哪里？
# Choices： A.北京  B.巴黎  C.汉堡  D.纽约
  # pair-1: (ctx, cont) = (法国的首都是哪里？，A.北京)
  # pair-2: (ctx, cont) = (法国的首都是哪里？，B.巴黎)
  # pair-3: (ctx, cont) = (法国的首都是哪里？，C.汉堡)
  # pair-4: (ctx, cont) = (法国的首都是哪里？，D.纽约)
# Logits --&gt;

def loglikelihood(self, inputs: list, infer_cfg: dict = None) -&gt; list:
    # To predict one doc
    doc_ele_pred = []
    for ctx, continuation in inputs:

        # ctx_enc shape: [context_tok_len]  cont_enc shape: [continuation_tok_len]
        ctx_enc, cont_enc = self._encode_pair(ctx, continuation)

        inputs_tokens = torch.tensor(
            (ctx_enc.tolist() + cont_enc.tolist())[-(self.max_length + 1):][:-1],
            dtype=torch.long,
            device=self.model.device).unsqueeze(0)

        logits = self.model(inputs_tokens)[0]
        logits = torch.nn.functional.log_softmax(logits.float(), dim=-1)

        logits = logits[:, -len(cont_enc):, :]
        cont_enc = cont_enc.unsqueeze(0).unsqueeze(-1)
        logits = torch.gather(logits.cpu(), 2, cont_enc.cpu()).squeeze(-1)

        choice_score = float(logits.sum())
        doc_ele_pred.append(choice_score)

    # e.g. [-2.3, 1.1, -12.9, -9.2], length=len(choices)
    return doc_ele_pred
</code></pre>
<ul>
<li>
<p><strong>评价指标（Metrics）</strong></p>
</li>
<li>
<p>WeightedAverageAccuracy  加权平均准确率</p>
</li>
<li>
<p>Perplexity 困惑度</p>
</li>
<li>
<p>Rouge (Recall-Oriented Understudy for Gisting Evaluation)</p>
</li>
<li>
<p>Bleu (Bilingual evaluation understudy)</p>
</li>
<li>
<p>ELO Rating System</p>
</li>
<li>
<p>PASS@K</p>
</li>
<li>
<p><strong>Model-based自动评测</strong></p>
</li>
</ul>
<p><a class="glightbox" href="../resources/70f6ea12-f36f-4f58-b62e-cf6d28edcfd0.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="../resources/70f6ea12-f36f-4f58-b62e-cf6d28edcfd0.png" /></a></p>
<ul>
<li>
<p>中心化评测</p>
<ul>
<li>中心化评测模式下，裁判员模型只有一个，可靠性高，但容易收到裁判员模型的bias影响</li>
</ul>
</li>
<li>
<p>去中心化评测</p>
<ul>
<li>
<p>去中心化评测方式，要求模型之间做peer-examination</p>
</li>
<li>
<p>特点是公平性好，但计算量大，且鲁棒性不高</p>
</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>裁判员模型</strong></p>
</blockquote>
<ul>
<li>
<p>GPT-4、Claude、Qwen-Max等 （产品APIs）</p>
</li>
<li>
<p>PandLM、Auto-J (tuned from LLM, like LLaMA)</p>
</li>
<li>
<p>Reward models (Ranking learning)</p>
</li>
<li>
<p>Chatbot Arena -竞技场模式</p>
<ul>
<li><strong>（Battle count of each combination of models,  from LMSYS）</strong></li>
</ul>
</li>
</ul>
<p><a class="glightbox" href="../resources/f2e4ef13-dc80-4b09-a8ba-49f2823794b5.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="../resources/f2e4ef13-dc80-4b09-a8ba-49f2823794b5.png" /></a></p>
<ul>
<li><strong>（Fraction of Model A wins for all non-tied A vs. B battles,  from LMSYS）</strong></li>
</ul>
<p><a class="glightbox" href="../resources/7d2fa017-b4fd-49c0-b69d-6e5fd286efce.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="../resources/7d2fa017-b4fd-49c0-b69d-6e5fd286efce.png" /></a></p>
<ul>
<li>
<p><strong>主观评测和客观评测</strong>
<a class="glightbox" href="../resources/llm_eval_subjective.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="../resources/llm_eval_subjective.png" /></a></p>
</li>
<li>
<p><strong>LLM指令攻防</strong></p>
<ul>
<li>
<p>指令诱导  (诱导模型输出目标答案，from SuperCLUE)</p>
</li>
<li>
<p><a class="glightbox" href="../resources/57149682-203e-47ec-acda-95253cd54f1a.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="../resources/57149682-203e-47ec-acda-95253cd54f1a.png" /></a></p>
</li>
<li>
<p>有害指令注入 (将真实有害意图注入到prompt中, from SuperCLUE)</p>
</li>
<li>
<p><a class="glightbox" href="../resources/b79d3cf9-b60b-43ba-8d7b-a9b4cc070e6b.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="../resources/b79d3cf9-b60b-43ba-8d7b-a9b4cc070e6b.png" /></a></p>
</li>
</ul>
</li>
<li>
<p><strong>Agent评测</strong>
<a class="glightbox" href="../resources/llm_eval_toolbench.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="../resources/llm_eval_toolbench.png" /></a></p>
</li>
</ul>
<h4 id="22">2.2 模型性能评估</h4>
<blockquote>
<p><strong>model serving performance evaluation</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th><strong>指标名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Time</td>
<td>测试总时间（时间单位均为秒）</td>
</tr>
<tr>
<td>Expected number of requests</td>
<td>期望发送的请求数，和prompt文件以及期望number有关</td>
</tr>
<tr>
<td>concurrency</td>
<td>并发数</td>
</tr>
<tr>
<td>completed</td>
<td>完成的请求数</td>
</tr>
<tr>
<td>succeed</td>
<td>成功请求数</td>
</tr>
<tr>
<td>failed</td>
<td>失败请求数</td>
</tr>
<tr>
<td>qps</td>
<td>平均qps</td>
</tr>
<tr>
<td>latency</td>
<td>平均latency</td>
</tr>
<tr>
<td>time to first token</td>
<td>平均首包延迟</td>
</tr>
<tr>
<td>throughput</td>
<td>output tokens / seconds 平均每秒输出token数</td>
</tr>
<tr>
<td>time per output token</td>
<td>平均生成一个token需要的时间 总output_tokens/总时间</td>
</tr>
<tr>
<td>package per request</td>
<td>平均每个请求的包数</td>
</tr>
<tr>
<td>time per package</td>
<td>平均每包时间</td>
</tr>
<tr>
<td>input tokens per request</td>
<td>平均每个请求的输入token数</td>
</tr>
<tr>
<td>output tokens per request</td>
<td>平均每个请求输出token数</td>
</tr>
</tbody>
</table>
<p><a class="glightbox" href="../resources/llm_eval_infer_perf.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="../resources/llm_eval_infer_perf.png" /></a></p>
<h4 id="23">2.3 问题和挑战</h4>
<ol>
<li>
<p><strong>基准失效&amp;数据泄露</strong></p>
</li>
<li>
<p>静态数据集与快速演进的LLM能力形成GAP，导致基准失效</p>
</li>
<li>
<p>公开的benchmark被泄露到LLM的开发PT、CPT、SFT等开发环节</p>
</li>
</ol>
<blockquote>
<p><strong>解决思路： 动态数据集</strong></p>
</blockquote>
<p><a class="glightbox" href="../resources/e1fc58a1-b555-43e7-9ecb-4e4ad013fd9e.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="../resources/e1fc58a1-b555-43e7-9ecb-4e4ad013fd9e.png" /></a></p>
<p><a class="glightbox" href="../resources/03654212-614b-4dc3-a9c1-6513f6da4294.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="../resources/03654212-614b-4dc3-a9c1-6513f6da4294.png" /></a></p>
<ol>
<li>
<p><strong>裁判员模型的能力上限</strong></p>
</li>
<li>
<p>裁判员模型的存在明显的能力边界，很难胜任更多场景、更强模型的评测工作</p>
</li>
<li>
<p>泛化性问题</p>
</li>
<li>
<p>LLM幻觉的诊断问题</p>
</li>
</ol>
<p><a class="glightbox" href="../resources/llm_eval_judge_robust.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="../resources/llm_eval_judge_robust.png" /></a>
在添加扰动的情况下，即便是性能强劲的裁判员模型，也会出现性能下降的情况。</p>
<h2 id="llm_1">LLM评估实战</h2>
<p>Eval-Scope框架--轻量化、端到端的大模型自动评估框架
<a class="glightbox" href="../resources/llm_eval_diagram.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="../resources/llm_eval_diagram.png" /></a></p>
<p>GitHub: <a href="https://github.com/modelscope/eval-scope">https://github.com/modelscope/eval-scope</a></p>
<blockquote>
<p><strong>框架特性</strong></p>
</blockquote>
<ul>
<li>
<p>预置常用的测试基准，包括：MMLU、C-Eval、GSM8K、ARC、HellaSwag、TruthfulQA、MATH、HumanEval、BBH、GeneralQA等</p>
</li>
<li>
<p>常用评估指标（metrics）的实现</p>
</li>
<li>
<p>统一model接入，兼容多个系列模型的generate、chat接口</p>
</li>
<li>
<p>客观题自动评估</p>
</li>
<li>
<p>使用专家模型实现复杂任务的自动评估</p>
</li>
<li>
<p>竞技场模式(Arena）</p>
</li>
<li>
<p>评估报告生成与可视化</p>
</li>
<li>
<p>LLM性能评测（Performance Evaluation）</p>
</li>
</ul>
<p><strong>环境安装</strong></p>
<pre><code># 1. 代码下载
git clone git@github.com:modelscope/eval-scope.git

# 2. 安装依赖
cd eval-scope/
pip install -r requirements/requirements.txt
pip install -e .
</code></pre>
<ol>
<li>
<p><strong>简单评测</strong></p>
<blockquote>
<p>指定模型和数据集
python llmuses/run.py --model ZhipuAI/chatglm3-6b --template-type chatglm3 --datasets ceval --outputs ./outputs/test --limit 10</p>
</blockquote>
</li>
<li>
<p>--model: ModelScope模型id， (<a href="https://modelscope.cn/models/ZhipuAI/chatglm3-6b/summary">https://modelscope.cn/models/ZhipuAI/chatglm3-6b/summary</a>) ，也可以是模型的本地路径</p>
</li>
<li>
<p>--datasets: 数据集的id</p>
</li>
<li>
<p>--limit: （每个sub-task）最大评测样本数</p>
</li>
<li>
<p>--template-type: 模型的template-type，如chatglm3、qwen等</p>
</li>
</ol>
<p><a href="https://alidocs.dingtalk.com/i/nodes/gvNG4YZ7Jnxop15OCBQErPgbW2LD0oRE?iframeQuery=anchorId%253DX02lrkkwbr9bvf1opazpdn&amp;utm_scene=team_space">请至钉钉文档查看附件《1.mp4》</a></p>
<ol>
<li>
<p><strong>带参数评测</strong></p>
<p>python llmuses/run.py --model ZhipuAI/chatglm3-6b --template-type chatglm3 --outputs ./outputs/test2 --model-args revision=v1.0.2,precision=torch.float16,device_map=auto --datasets arc --limit 10</p>
</li>
<li>
<p>--model-args: 模型参数，以逗号分隔，key=value形式</p>
</li>
<li>
<p>--datasets: 数据集名称，参考下文`数据集列表`章节</p>
</li>
<li>
<p>--mem-cache: 是否使用内存缓存，若开启，则已经跑过的数据会自动缓存，并持久化到本地磁盘</p>
</li>
<li>
<p>--limit: 每个subset最大评估数据量</p>
</li>
<li>
<p>--template-type: 模型的template-type，如chatglm3、qwen等</p>
</li>
</ol>
<p><a href="https://alidocs.dingtalk.com/i/nodes/gvNG4YZ7Jnxop15OCBQErPgbW2LD0oRE?iframeQuery=anchorId%253DX02lrkkwu0yqcmz8sh8u8r&amp;utm_scene=team_space">请至钉钉文档查看附件《2.mp4》</a></p>
<ol>
<li><strong>竞技场模式--Single mode</strong></li>
</ol>
<p>Single mode，使用专家模型（GPT-4）对待测LLM进行打分</p>
<pre><code># Example
# Note: dry-run模式 (模型answer正常生成，但专家模型，如GPT-4，不会被触发，评估结果会随机生成，如需正式评测，请去掉--dry-run参数)
python llmuses/run_arena.py --c registry/config/cfg_single.yaml --dry-run
</code></pre>
<p><a href="https://alidocs.dingtalk.com/i/nodes/gvNG4YZ7Jnxop15OCBQErPgbW2LD0oRE?iframeQuery=anchorId%253DX02lrkkz502wy86kerhzee&amp;utm_scene=team_space">请至钉钉文档查看附件《4.mp4》</a></p>
<ol>
<li><strong>竞技场模式--Baseline mode</strong></li>
</ol>
<p>Baseline mode，选定baseline模型，其它待测LLM与该模型进行对比</p>
<pre><code># Example
# Note: dry-run模式 (模型answer正常生成，但专家模型，如GPT-4，不会被触发，评估结果会随机生成，如需正式评测，请去掉--dry-run参数)
python llmuses/run_arena.py --c registry/config/cfg_pairwise_baseline.yaml --dry-run
</code></pre>
<p><a href="https://alidocs.dingtalk.com/i/nodes/gvNG4YZ7Jnxop15OCBQErPgbW2LD0oRE?iframeQuery=anchorId%253DX02lrkldvk7cua7s9e4qfr&amp;utm_scene=team_space">请至钉钉文档查看附件《5.mp4》</a></p>
<ol>
<li><strong>竞技场模式--Pairwise mode</strong></li>
</ol>
<p>Pairwise mode，待测LLM两两组合进行对弈</p>
<pre><code># Example
# Note: dry-run模式 (模型answer正常生成，但专家模型，如GPT-4，不会被触发，评估结果会随机生成，如需正式评测，请去掉--dry-run参数)
python llmuses/run_arena.py -c registry/config/cfg_arena.yaml --dry-run
</code></pre>
<p><a href="https://alidocs.dingtalk.com/i/nodes/gvNG4YZ7Jnxop15OCBQErPgbW2LD0oRE?iframeQuery=anchorId%253DX02lrklgm7on9my652lw4&amp;utm_scene=team_space">请至钉钉文档查看附件《6.mp4》</a></p>
<p><a class="glightbox" href="../resources/d63351fd-409d-4d77-975a-8ab7890d383d.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="../resources/d63351fd-409d-4d77-975a-8ab7890d383d.png" /></a></p>
<ol>
<li><strong>效果评测报告</strong></li>
</ol>
<p>按照预定格式存放数据，使用streamlit启动可视化服务</p>
<pre><code># Usage:
streamlit run viz.py -- --review-file llmuses/registry/data/qa_browser/battle.jsonl --category-file llmuses/registry/data/qa_browser/category_mapping.yaml
</code></pre>
<ul>
<li>
<p><strong>报告可视化</strong></p>
</li>
<li>
<p><a class="glightbox" href="../resources/a569b578-501d-414e-aeaa-53ce07d8d214.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="../resources/a569b578-501d-414e-aeaa-53ce07d8d214.png" /></a></p>
</li>
<li>
<p><strong>Leaderboard:</strong>  <a href="https://modelscope.cn/leaderboard/58/ranking?type=free">https://modelscope.cn/leaderboard/58/ranking?type=free</a></p>
</li>
</ul>
<p><a class="glightbox" href="../resources/cff2b99b-2c8c-4200-aa5d-8758d018d24d.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="../resources/cff2b99b-2c8c-4200-aa5d-8758d018d24d.png" /></a></p>
<ol>
<li><strong>模型性能评测（Perf Eval）</strong></li>
</ol>
<blockquote>
<p><strong>性能评测报告示例</strong></p>
</blockquote>
<p><a class="glightbox" href="../resources/15eb7f88-9b7c-470d-a789-83ff0e133851.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="../resources/15eb7f88-9b7c-470d-a789-83ff0e133851.png" /></a></p>
<p><a class="glightbox" href="../resources/464fd064-55de-402c-aac8-a8320a94227b.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="../resources/464fd064-55de-402c-aac8-a8320a94227b.png" /></a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.tabs", "navigation", "navigation.top"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>